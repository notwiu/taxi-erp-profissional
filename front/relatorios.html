<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Relatórios | TaxiControl PRO</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <!-- Sidebar -->
    <nav class="sidebar">
        <div class="sidebar-header">
            <div class="logo">
                <i class="fas fa-taxi"></i>
                <h2>TaxiControl<span>PRO</span></h2>
            </div>
            <button class="menu-toggle" id="menu-toggle">
                <i class="fas fa-bars"></i>
            </button>
        </div>
        
        <div class="sidebar-menu">
            <div class="user-info">
                <div class="user-avatar">
                    <i class="fas fa-user-circle"></i>
                </div>
                <div class="user-details">
                    <h3>Administrador</h3>
                    <p>Supervisor Geral</p>
                </div>
            </div>
            
            <ul class="menu-items">
                <li class="menu-item">
                    <a href="dashboard.html">
                        <i class="fas fa-tachometer-alt"></i>
                        <span>Dashboard</span>
                    </a>
                </li>
                <li class="menu-item">
                    <a href="corridas.html">
                        <i class="fas fa-route"></i>
                        <span>Corridas</span>
                        <span class="badge">12</span>
                    </a>
                </li>
                <li class="menu-item">
                    <a href="motoristas.html">
                        <i class="fas fa-user-tie"></i>
                        <span>Motoristas</span>
                    </a>
                </li>
                <li class="menu-item">
                    <a href="veiculos.html">
                        <i class="fas fa-car"></i>
                        <span>Veículos</span>
                    </a>
                </li>
                <li class="menu-item">
                    <a href="financeiro.html">
                        <i class="fas fa-money-bill-wave"></i>
                        <span>Financeiro</span>
                    </a>
                </li>
                <li class="menu-item active">
                    <a href="relatorios.html">
                        <i class="fas fa-chart-bar"></i>
                        <span>Relatórios</span>
                    </a>
                </li>
                <li class="menu-item has-submenu">
                    <a href="#">
                        <i class="fas fa-cog"></i>
                        <span>Configurações</span>
                        <i class="fas fa-chevron-down"></i>
                    </a>
                    <ul class="submenu">
                        <li><a href="#"><i class="fas fa-users-cog"></i> Usuários</a></li>
                        <li><a href="#"><i class="fas fa-percentage"></i> Comissões</a></li>
                        <li><a href="#"><i class="fas fa-gas-pump"></i> Combustível</a></li>
                        <li><a href="#"><i class="fas fa-tools"></i> Manutenção</a></li>
                    </ul>
                </li>
            </ul>
            
            <div class="sidebar-footer">
                <div class="system-status">
                    <div class="status-indicator online"></div>
                    <span>Sistema Online</span>
                </div>
                <button class="btn-logout" id="logout-btn">
                    <i class="fas fa-sign-out-alt"></i> Sair
                </button>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Header -->
        <header class="topbar">
            <div class="topbar-left">
                <h1 class="page-title">Relatórios Analíticos</h1>
                <nav class="breadcrumb">
                    <a href="dashboard.html">Home</a> / <span>Relatórios</span>
                </nav>
            </div>
            
            <div class="topbar-right">
                <div class="notifications">
                    <button class="notification-btn">
                        <i class="fas fa-bell"></i>
                        <span class="notification-count">3</span>
                    </button>
                </div>
                <div class="date-time">
                    <i class="fas fa-calendar-alt"></i>
                    <span id="current-date"></span>
                    <i class="fas fa-clock"></i>
                    <span id="current-time"></span>
                </div>
            </div>
        </header>

        <!-- Report Filters -->
        <div class="report-filters">
            <div class="filter-group">
                <label><i class="fas fa-calendar-alt"></i> Período</label>
                <select id="period-filter">
                    <option value="today">Hoje</option>
                    <option value="week">Esta semana</option>
                    <option value="month" selected>Este mês</option>
                    <option value="quarter">Este trimestre</option>
                    <option value="year">Este ano</option>
                    <option value="custom">Personalizado</option>
                </select>
            </div>
            
            <div class="filter-group" id="custom-dates" style="display: none;">
                <label><i class="fas fa-calendar-day"></i> Data Inicial</label>
                <input type="date">
                <label><i class="fas fa-calendar-day"></i> Data Final</label>
                <input type="date">
            </div>
            
            <div class="filter-group">
                <label><i class="fas fa-user-tie"></i> Motorista</label>
                <select id="driver-filter">
                    <option value="all">Todos os motoristas</option>
                    <option value="1">João Silva</option>
                    <option value="2">Maria Santos</option>
                    <option value="3">Carlos Oliveira</option>
                </select>
            </div>
            
            <div class="filter-group">
                <label><i class="fas fa-car"></i> Veículo</label>
                <select id="vehicle-filter">
                    <option value="all">Todos os veículos</option>
                    <option value="1">ABC-1234</option>
                    <option value="2">DEF-5678</option>
                    <option value="3">GHI-9012</option>
                </select>
            </div>
            
            <button class="btn-primary" onclick="generateReports()">
                <i class="fas fa-sync-alt"></i> Gerar Relatórios
            </button>
            
            <button class="btn-secondary" onclick="exportAllReports()">
                <i class="fas fa-download"></i> Exportar Tudo
            </button>
        </div>

        <!-- Report Cards -->
        <div class="stats-grid">
            <div class="stat-card primary">
                <div class="stat-icon">
                    <i class="fas fa-chart-line"></i>
                </div>
                <div class="stat-info">
                    <h3>Performance Geral</h3>
                    <p class="stat-value">92%</p>
                    <p class="stat-change positive">
                        <i class="fas fa-arrow-up"></i> 5% vs período anterior
                    </p>
                </div>
            </div>
            
            <div class="stat-card success">
                <div class="stat-icon">
                    <i class="fas fa-money-bill-wave"></i>
                </div>
                <div class="stat-info">
                    <h3>Receita Total</h3>
                    <p class="stat-value">R$ 45.280,00</p>
                    <p class="stat-change positive">
                        <i class="fas fa-arrow-up"></i> 15% vs período anterior
                    </p>
                </div>
            </div>
            
            <div class="stat-card warning">
                <div class="stat-icon">
                    <i class="fas fa-route"></i>
                </div>
                <div class="stat-info">
                    <h3>Corridas Realizadas</h3>
                    <p class="stat-value">1.245</p>
                    <p class="stat-change positive">
                        <i class="fas fa-arrow-up"></i> 8% vs período anterior
                    </p>
                </div>
            </div>
            
            <div class="stat-card info">
                <div class="stat-icon">
                    <i class="fas fa-users"></i>
                </div>
                <div class="stat-info">
                    <h3>Motoristas Ativos</h3>
                    <p class="stat-value">22</p>
                    <p class="stat-change">
                        94% da frota
                    </p>
                </div>
            </div>
        </div>

        <!-- Main Charts -->
        <div class="content-grid">
            <!-- Revenue Trend -->
            <div class="content-card large">
                <div class="card-header">
                    <h3><i class="fas fa-chart-line"></i> Tendência de Receitas</h3>
                    <button class="btn-secondary" onclick="downloadChart('revenueTrend')">
                        <i class="fas fa-download"></i> Exportar
                    </button>
                </div>
                <div class="card-body">
                    <div class="chart-container">
                        <canvas id="revenueTrendChart"></canvas>
                    </div>
                </div>
            </div>
            
            <!-- Top Drivers -->
            <div class="content-card">
                <div class="card-header">
                    <h3><i class="fas fa-trophy"></i> Top 5 Motoristas</h3>
                    <button class="btn-secondary" onclick="downloadChart('topDrivers')">
                        <i class="fas fa-download"></i> Exportar
                    </button>
                </div>
                <div class="card-body">
                    <div class="chart-container">
                        <canvas id="topDriversChart"></canvas>
                    </div>
                </div>
            </div>
        </div>

        <!-- Detailed Reports -->
        <div class="content-grid">
            <!-- Ride Analysis -->
            <div class="content-card">
                <div class="card-header">
                    <h3><i class="fas fa-route"></i> Análise de Corridas</h3>
                </div>
                <div class="card-body">
                    <div class="analysis-grid">
                        <div class="analysis-item">
                            <div class="analysis-icon">
                                <i class="fas fa-clock"></i>
                            </div>
                            <div class="analysis-content">
                                <h4>Tempo Médio por Corrida</h4>
                                <p class="analysis-value">18 minutos</p>
                                <p class="analysis-change positive">-2 min vs anterior</p>
                            </div>
                        </div>
                        
                        <div class="analysis-item">
                            <div class="analysis-icon">
                                <i class="fas fa-road"></i>
                            </div>
                            <div class="analysis-content">
                                <h4>Distância Média</h4>
                                <p class="analysis-value">12,5 km</p>
                                <p class="analysis-change">+0,5 km vs anterior</p>
                            </div>
                        </div>
                        
                        <div class="analysis-item">
                            <div class="analysis-icon">
                                <i class="fas fa-money-bill-wave"></i>
                            </div>
                            <div class="analysis-content">
                                <h4>Ticket Médio</h4>
                                <p class="analysis-value">R$ 36,40</p>
                                <p class="analysis-change positive">+R$ 2,10 vs anterior</p>
                            </div>
                        </div>
                        
                        <div class="analysis-item">
                            <div class="analysis-icon">
                                <i class="fas fa-star"></i>
                            </div>
                            <div class="analysis-content">
                                <h4>Satisfação do Cliente</h4>
                                <p class="analysis-value">4.8/5.0</p>
                                <p class="analysis-change positive">+0.2 vs anterior</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="peak-hours">
                        <h4><i class="fas fa-chart-area"></i> Horários de Pico</h4>
                        <div class="peak-bars">
                            <div class="peak-bar" style="height: 40%;" title="07:00 - 08:00">
                                <span>7h</span>
                            </div>
                            <div class="peak-bar" style="height: 60%;" title="08:00 - 09:00">
                                <span>8h</span>
                            </div>
                            <div class="peak-bar" style="height: 85%;" title="09:00 - 10:00">
                                <span>9h</span>
                            </div>
                            <div class="peak-bar" style="height: 70%;" title="10:00 - 11:00">
                                <span>10h</span>
                            </div>
                            <div class="peak-bar" style="height: 50%;" title="11:00 - 12:00">
                                <span>11h</span>
                            </div>
                            <div class="peak-bar" style="height: 40%;" title="12:00 - 13:00">
                                <span>12h</span>
                            </div>
                            <div class="peak-bar" style="height: 55%;" title="13:00 - 14:00">
                                <span>13h</span>
                            </div>
                            <div class="peak-bar" style="height: 75%;" title="17:00 - 18:00">
                                <span>17h</span>
                            </div>
                            <div class="peak-bar" style="height: 90%;" title="18:00 - 19:00">
                                <span>18h</span>
                            </div>
                            <div class="peak-bar" style="height: 65%;" title="19:00 - 20:00">
                                <span>19h</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Vehicle Efficiency -->
            <div class="content-card">
                <div class="card-header">
                    <h3><i class="fas fa-car"></i> Eficiência da Frota</h3>
                </div>
                <div class="card-body">
                    <div class="efficiency-list">
                        <div class="efficiency-item">
                            <div class="vehicle-info">
                                <div class="vehicle-avatar">A1</div>
                                <div>
                                    <h4>ABC-1234</h4>
                                    <p>Corolla • João Silva</p>
                                </div>
                            </div>
                            <div class="efficiency-stats">
                                <div class="efficiency-stat">
                                    <span class="stat-label">Rendimento</span>
                                    <span class="stat-value success">10,8 km/L</span>
                                </div>
                                <div class="efficiency-stat">
                                    <span class="stat-label">Custo/km</span>
                                    <span class="stat-value">R$ 0,85</span>
                                </div>
                                <div class="efficiency-stat">
                                    <span class="stat-label">Disponibilidade</span>
                                    <span class="stat-value success">98%</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="efficiency-item">
                            <div class="vehicle-info">
                                <div class="vehicle-avatar">D5</div>
                                <div>
                                    <h4>DEF-5678</h4>
                                    <p>Civic • Maria Santos</p>
                                </div>
                            </div>
                            <div class="efficiency-stats">
                                <div class="efficiency-stat">
                                    <span class="stat-label">Rendimento</span>
                                    <span class="stat-value success">11,2 km/L</span>
                                </div>
                                <div class="efficiency-stat">
                                    <span class="stat-label">Custo/km</span>
                                    <span class="stat-value">R$ 0,78</span>
                                </div>
                                <div class="efficiency-stat">
                                    <span class="stat-label">Disponibilidade</span>
                                    <span class="stat-value success">96%</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="efficiency-item">
                            <div class="vehicle-info">
                                <div class="vehicle-avatar">G9</div>
                                <div>
                                    <h4>GHI-9012</h4>
                                    <p>Onix • Carlos Oliveira</p>
                                </div>
                            </div>
                            <div class="efficiency-stats">
                                <div class="efficiency-stat">
                                    <span class="stat-label">Rendimento</span>
                                    <span class="stat-value warning">9,5 km/L</span>
                                </div>
                                <div class="efficiency-stat">
                                    <span class="stat-label">Custo/km</span>
                                    <span class="stat-value">R$ 0,92</span>
                                </div>
                                <div class="efficiency-stat">
                                    <span class="stat-label">Disponibilidade</span>
                                    <span class="stat-value warning">85%</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="maintenance-summary">
                        <h4><i class="fas fa-tools"></i> Resumo de Manutenção</h4>
                        <div class="maintenance-stats">
                            <div class="maintenance-stat">
                                <span class="stat-label">Custo Total</span>
                                <span class="stat-value">R$ 3.850,00</span>
                            </div>
                            <div class="maintenance-stat">
                                <span class="stat-label">Veículos em Manut.</span>
                                <span class="stat-value warning">2</span>
                            </div>
                            <div class="maintenance-stat">
                                <span class="stat-label">Próximas Revisões</span>
                                <span class="stat-value">5</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Report Generation -->
        <div class="content-card">
            <div class="card-header">
                <h3><i class="fas fa-file-alt"></i> Gerar Relatórios Detalhados</h3>
            </div>
            <div class="card-body">
                <div class="report-types">
                    <div class="report-type-card">
                        <div class="report-type-icon">
                            <i class="fas fa-calendar-day"></i>
                        </div>
                        <div class="report-type-content">
                            <h4>Relatório Diário Completo</h4>
                            <p>Resumo detalhado das atividades do dia</p>
                            <button class="btn-secondary" onclick="generateReport('daily')">
                                <i class="fas fa-download"></i> Gerar PDF
                            </button>
                        </div>
                    </div>
                    
                    <div class="report-type-card">
                        <div class="report-type-icon">
                            <i class="fas fa-calendar-week"></i>
                        </div>
                        <div class="report-type-content">
                            <h4>Relatório Semanal Executivo</h4>
                            <p>Análise estratégica da semana</p>
                            <button class="btn-secondary" onclick="generateReport('weekly')">
                                <i class="fas fa-download"></i> Gerar PDF
                            </button>
                        </div>
                    </div>
                    
                    <div class="report-type-card">
                        <div class="report-type-icon">
                            <i class="fas fa-chart-bar"></i>
                        </div>
                        <div class="report-type-content">
                            <h4>Relatório de Performance</h4>
                            <p>Métricas e indicadores de performance</p>
                            <button class="btn-secondary" onclick="generateReport('performance')">
                                <i class="fas fa-download"></i> Gerar PDF
                            </button>
                        </div>
                    </div>
                    
                    <div class="report-type-card">
                        <div class="report-type-icon">
                            <i class="fas fa-money-bill-wave"></i>
                        </div>
                        <div class="report-type-content">
                            <h4>Relatório Financeiro</h4>
                            <p>Balanço completo e DRE</p>
                            <button class="btn-secondary" onclick="generateReport('financial')">
                                <i class="fas fa-download"></i> Gerar PDF
                            </button>
                        </div>
                    </div>
                    
                    <div class="report-type-card">
                        <div class="report-type-icon">
                            <i class="fas fa-user-tie"></i>
                        </div>
                        <div class="report-type-content">
                            <h4>Relatório de Motoristas</h4>
                            <p>Desempenho individual e comissões</p>
                            <button class="btn-secondary" onclick="generateReport('drivers')">
                                <i class="fas fa-download"></i> Gerar PDF
                            </button>
                        </div>
                    </div>
                    
                    <div class="report-type-card">
                        <div class="report-type-icon">
                            <i class="fas fa-car"></i>
                        </div>
                        <div class="report-type-content">
                            <h4>Relatório da Frota</h4>
                            <p>Eficiência e custos dos veículos</p>
                            <button class="btn-secondary" onclick="generateReport('fleet')">
                                <i class="fas fa-download"></i> Gerar PDF
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <footer class="main-footer">
            <p>TaxiControl PRO v2.1.0 | Sistema ERP para Gestão de Frota de Táxis</p>
            <p>© 2024 Todos os direitos reservados</p>
        </footer>
    </main>

    <!-- Scripts -->
    <script src="script.js"></script>
    <script>
        // Inicializar gráficos de relatórios
        document.addEventListener('DOMContentLoaded', function() {
            initializeReportCharts();
            addReportStyles();
            setupFilterEvents();
        });

        // Configurar eventos dos filtros
        function setupFilterEvents() {
            const periodFilter = document.getElementById('period-filter');
            const customDates = document.getElementById('custom-dates');
            
            periodFilter.addEventListener('change', function() {
                customDates.style.display = this.value === 'custom' ? 'block' : 'none';
            });
        }

        // Inicializar gráficos
        function initializeReportCharts() {
            // Gráfico de Tendência de Receitas
            const revenueCtx = document.getElementById('revenueTrendChart').getContext('2d');
            window.revenueTrendChart = new Chart(revenueCtx, {
                type: 'line',
                data: {
                    labels: ['Jan', 'Fev', 'Mar', 'Abr', 'Mai', 'Jun', 'Jul', 'Ago', 'Set', 'Out', 'Nov', 'Dez'],
                    datasets: [{
                        label: 'Receita (R$)',
                        data: [28000, 32000, 35000, 38000, 42000, 45000, 43000, 48000, 52000, 55000, 58000, 62000],
                        borderColor: '#2d5be3',
                        backgroundColor: 'rgba(45, 91, 227, 0.1)',
                        borderWidth: 3,
                        fill: true,
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return `Receita: R$ ${context.raw.toLocaleString('pt-BR')}`;
                                }
                            }
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            grid: {
                                color: 'rgba(0,0,0,0.05)'
                            },
                            ticks: {
                                callback: function(value) {
                                    return 'R$ ' + (value / 1000) + 'k';
                                }
                            }
                        }
                    }
                }
            });

            // Gráfico de Top Motoristas
            const driversCtx = document.getElementById('topDriversChart').getContext('2d');
            window.topDriversChart = new Chart(driversCtx, {
                type: 'bar',
                data: {
                    labels: ['João Silva', 'Maria Santos', 'Carlos Oliveira', 'Pedro Costa', 'Ana Pereira'],
                    datasets: [{
                        label: 'Faturamento (R$)',
                        data: [12500, 11800, 9800, 8500, 7200],
                        backgroundColor: [
                            '#2d5be3',
                            '#2ed573',
                            '#ff9f43',
                            '#1e90ff',
                            '#ff4757'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return `Faturamento: R$ ${context.raw.toLocaleString('pt-BR')}`;
                                }
                            }
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            grid: {
                                color: 'rgba(0,0,0,0.05)'
                            },
                            ticks: {
                                callback: function(value) {
                                    return 'R$ ' + value.toLocaleString('pt-BR');
                                }
                            }
                        }
                    }
                }
            });
        }

        // Gerar relatórios
        function generateReports() {
            const loading = showLoading('Gerando relatórios...');
            
            setTimeout(() => {
                loading.hide();
                showAlert('Relatórios gerados com sucesso!', 'success');
                
                // Atualizar gráficos com novos dados baseados nos filtros
                if (window.revenueTrendChart && window.topDriversChart) {
                    window.revenueTrendChart.update();
                    window.topDriversChart.update();
                }
            }, 2000);
        }

        // Exportar todos os relatórios
        function exportAllReports() {
            const loading = showLoading('Preparando exportação...');
            
            setTimeout(() => {
                loading.hide();
                
                // Criar um ZIP com todos os relatórios
                showAlert('Todos os relatórios foram exportados com sucesso!', 'success');
                
                // Em uma implementação real, aqui você geraria um arquivo ZIP
                window.open('relatorios_completos.zip', '_blank');
            }, 3000);
        }

        // Gerar relatório específico
        function generateReport(type) {
            const reportNames = {
                'daily': 'Relatório Diário',
                'weekly': 'Relatório Semanal',
                'performance': 'Relatório de Performance',
                'financial': 'Relatório Financeiro',
                'drivers': 'Relatório de Motoristas',
                'fleet': 'Relatório da Frota'
            };
            
            const loading = showLoading(`Gerando ${reportNames[type]}...`);
            
            setTimeout(() => {
                loading.hide();
                showAlert(`${reportNames[type]} gerado com sucesso!`, 'success');
                
                // Em uma implementação real, aqui você baixaria o PDF
                window.open(`${type}_report.pdf`, '_blank');
            }, 1500);
        }

        // Baixar gráfico como imagem
        function downloadChart(chartName) {
            let chart, filename;
            
            if (chartName === 'revenueTrend') {
                chart = window.revenueTrendChart;
                filename = 'tendencia_receitas.png';
            } else if (chartName === 'topDrivers') {
                chart = window.topDriversChart;
                filename = 'top_motoristas.png';
            }
            
            if (chart) {
                const link = document.createElement('a');
                link.download = filename;
                link.href = chart.toBase64Image();
                link.click();
                showAlert('Gráfico exportado com sucesso!', 'success');
            }
        }

        // Adicionar estilos específicos para relatórios
        function addReportStyles() {
            const style = document.createElement('style');
            style.textContent = `
                .report-filters {
                    background: white;
                    padding: 25px 30px;
                    margin: 0 30px 25px;
                    border-radius: var(--border-radius);
                    box-shadow: var(--shadow-sm);
                    display: flex;
                    flex-wrap: wrap;
                    gap: 20px;
                    align-items: flex-end;
                }
                
                .filter-group {
                    display: flex;
                    flex-direction: column;
                    gap: 8px;
                    min-width: 200px;
                }
                
                .filter-group label {
                    font-weight: 500;
                    color: var(--dark-color);
                    display: flex;
                    align-items: center;
                    gap: 8px;
                }
                
                .filter-group select,
                .filter-group input {
                    padding: 10px 15px;
                    border: 2px solid var(--light-gray);
                    border-radius: var(--border-radius-sm);
                    font-family: 'Poppins', sans-serif;
                }
                
                .analysis-grid {
                    display: grid;
                    grid-template-columns: repeat(2, 1fr);
                    gap: 20px;
                    margin-bottom: 30px;
                }
                
                .analysis-item {
                    background: var(--light-gray);
                    border-radius: var(--border-radius-sm);
                    padding: 20px;
                    display: flex;
                    align-items: center;
                    gap: 15px;
                }
                
                .analysis-icon {
                    width: 50px;
                    height: 50px;
                    background: var(--primary-color);
                    color: white;
                    border-radius: 10px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    font-size: 1.3rem;
                }
                
                .analysis-content h4 {
                    font-size: 0.95rem;
                    margin-bottom: 5px;
                    color: var(--gray-color);
                }
                
                .analysis-value {
                    font-size: 1.5rem;
                    font-weight: 700;
                    color: var(--dark-color);
                    margin-bottom: 5px;
                }
                
                .analysis-change {
                    font-size: 0.85rem;
                }
                
                .analysis-change.positive {
                    color: var(--success-color);
                }
                
                .peak-hours {
                    margin-top: 25px;
                }
                
                .peak-hours h4 {
                    margin-bottom: 15px;
                    display: flex;
                    align-items: center;
                    gap: 10px;
                }
                
                .peak-bars {
                    display: flex;
                    align-items: flex-end;
                    gap: 10px;
                    height: 150px;
                    padding: 20px;
                    background: var(--light-gray);
                    border-radius: var(--border-radius-sm);
                }
                
                .peak-bar {
                    flex: 1;
                    background: var(--primary-color);
                    border-radius: 4px 4px 0 0;
                    position: relative;
                    transition: var(--transition);
                    cursor: pointer;
                }
                
                .peak-bar:hover {
                    opacity: 0.8;
                }
                
                .peak-bar span {
                    position: absolute;
                    bottom: -25px;
                    left: 0;
                    right: 0;
                    text-align: center;
                    font-size: 0.8rem;
                    color: var(--gray-color);
                }
                
                .efficiency-list {
                    display: flex;
                    flex-direction: column;
                    gap: 15px;
                    margin-bottom: 25px;
                }
                
                .efficiency-item {
                    background: var(--light-gray);
                    border-radius: var(--border-radius-sm);
                    padding: 15px;
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                }
                
                .vehicle-info {
                    display: flex;
                    align-items: center;
                    gap: 15px;
                }
                
                .vehicle-avatar {
                    width: 40px;
                    height: 40px;
                    background: var(--primary-color);
                    color: white;
                    border-radius: 8px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    font-weight: 700;
                    font-size: 0.9rem;
                }
                
                .vehicle-info h4 {
                    font-size: 1rem;
                    margin-bottom: 2px;
                }
                
                .vehicle-info p {
                    font-size: 0.85rem;
                    color: var(--gray-color);
                }
                
                .efficiency-stats {
                    display: flex;
                    gap: 20px;
                }
                
                .efficiency-stat {
                    display: flex;
                    flex-direction: column;
                    align-items: center;
                    gap: 5px;
                }
                
                .stat-label {
                    font-size: 0.8rem;
                    color: var(--gray-color);
                }
                
                .stat-value {
                    font-size: 1rem;
                    font-weight: 700;
                }
                
                .stat-value.success {
                    color: var(--success-color);
                }
                
                .stat-value.warning {
                    color: var(--warning-color);
                }
                
                .maintenance-summary {
                    background: var(--light-gray);
                    border-radius: var(--border-radius-sm);
                    padding: 20px;
                }
                
                .maintenance-summary h4 {
                    margin-bottom: 15px;
                    display: flex;
                    align-items: center;
                    gap: 10px;
                }
                
                .maintenance-stats {
                    display: grid;
                    grid-template-columns: repeat(3, 1fr);
                    gap: 15px;
                }
                
                .maintenance-stat {
                    text-align: center;
                }
                
                .report-types {
                    display: grid;
                    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
                    gap: 20px;
                }
                
                .report-type-card {
                    background: var(--light-gray);
                    border-radius: var(--border-radius-sm);
                    padding: 20px;
                    transition: var(--transition);
                }
                
                .report-type-card:hover {
                    transform: translateY(-5px);
                    box-shadow: var(--shadow-sm);
                }
                
                .report-type-icon {
                    width: 50px;
                    height: 50px;
                    background: var(--primary-color);
                    color: white;
                    border-radius: 10px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    font-size: 1.5rem;
                    margin-bottom: 15px;
                }
                
                .report-type-content h4 {
                    margin-bottom: 10px;
                    font-size: 1.1rem;
                }
                
                .report-type-content p {
                    color: var(--gray-color);
                    margin-bottom: 15px;
                    font-size: 0.9rem;
                }
            `;
            document.head.appendChild(style);
        }
    </script>
</body>
</html>